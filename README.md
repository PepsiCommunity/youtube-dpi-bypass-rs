# YouTube DPI Bypass - Rust Implementation

MITM –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä —Å –ø–æ–¥–º–µ–Ω–æ–π SNI –¥–ª—è –æ–±—Ö–æ–¥–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (DPI).

## –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–æ–¥ Man-in-the-Middle –¥–ª—è –ø–æ–¥–º–µ–Ω—ã SNI (Server Name Indication) –≤ TLS-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è—Ö:

1. –ö–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ø—Ä–æ–∫—Å–∏
2. –ü—Ä–æ–∫—Å–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç TLS-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∫–ª–∏–µ–Ω—Ç–æ–º (–∏—Å–ø–æ–ª—å–∑—É—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)
3. –ü—Ä–æ–∫—Å–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç TLS-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º, **–ø–æ–¥–º–µ–Ω—è—è SNI** –Ω–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–π –¥–æ–º–µ–Ω
4. DPI –≤–∏–¥–∏—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–π SNI –∏ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ç—Ä–∞—Ñ–∏–∫
5. –°–µ—Ä–≤–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É Host (–∫–æ—Ç–æ—Ä—ã–π –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º)

## –°–±–æ—Ä–∫–∞

```bash
cargo build --release
```

–ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –±—É–¥–µ—Ç –≤ `target/release/youtube-dpi-bypass-rs.exe`

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã

–°–∫–∞—á–∞–π—Ç–µ —Å–æ–±—Ä–∞–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ –∏–∑ [—Ä–µ–ª–∏–∑–æ–≤](https://github.com/PepsiCommunity/youtube-dpi-bypass-rs/releases)  

–∏–ª–∏  

```bash
cargo run --release
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã:
- `mitm-ca.crt` - –∫–æ—Ä–Ω–µ–≤–æ–π CA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É!)
- `mitm-ca.key` - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á CA
- `spoof.list` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–∞–ø–ø–∏–Ω–≥–∞ –¥–æ–º–µ–Ω–æ–≤

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ CA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:** –í—ã –¥–æ–ª–∂–Ω—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `mitm-ca.crt` –≤ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–æ—Ä–Ω–µ–≤—ã–µ —Ü–µ–Ω—Ç—Ä—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

#### Windows:
1. –û—Ç–∫—Ä—ã—Ç—å `certmgr.msc`
2. –î–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–æ—Ä–Ω–µ–≤—ã–µ —Ü–µ–Ω—Ç—Ä—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ ‚Üí –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
3. –ü—Ä–∞–≤–∞—è –∫–Ω–æ–ø–∫–∞ ‚Üí –í—Å–µ –∑–∞–¥–∞—á–∏ ‚Üí –ò–º–ø–æ—Ä—Ç
4. –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª `mitm-ca.crt`

#### Linux:
```bash
sudo cp mitm-ca.crt /usr/local/share/ca-certificates/
sudo update-ca-certificates
```

#### macOS:
1. –û—Ç–∫—Ä—ã—Ç—å Keychain Access
2. System ‚Üí Certificates
3. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `mitm-ca.crt`
4. –ü—Ä–∞–≤–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ ‚Üí Get Info ‚Üí Trust ‚Üí Always Trust

#### –¢–æ–ª—å–∫–æ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞):
- **Firefox**: Settings ‚Üí Privacy & Security ‚Üí Certificates ‚Üí View Certificates ‚Üí Import
- **Chrome**: Settings ‚Üí Security ‚Üí Manage certificates

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏:
- HTTP Proxy: `localhost:8080`
- HTTPS Proxy: `localhost:8080`

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### spoof.list

–§–∞–π–ª —Å –º–∞–ø–ø–∏–Ω–≥–æ–º –¥–æ–º–µ–Ω–æ–≤. –§–æ—Ä–º–∞—Ç:

```
# –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å #
origin_domain -> spoof_domain

# –ü—Ä–∏–º–µ—Ä—ã:
youtube.com -> www.google.com
googlevideo.com -> a.gvt1.com
ytimg.com -> edgestatic.com
```

**–í–∞–∂–Ω–æ:** –ü–æ–¥—Å—Ç–∞–≤–Ω–æ–π –¥–æ–º–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–ø–∏—Å–∫–µ SAN (Subject Alternative Names) —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —Ü–µ–ª–µ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞!

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–∫—Å–∏
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ `localhost:8080`
3. –û—Ç–∫—Ä–æ–π—Ç–µ https://www.youtube.com
4. –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–ø–∏—Å—å:
   ```
   üîå youtube.com ‚Üí www.google.com (SNI spoof)
   ```
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è


## –ê–≤—Ç–æ—Ä—ã
–ê–≤—Ç–æ—Ä –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ–π –∏–¥–µ–∏ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ Go: [yoricya](https://github.com/yoricya)  